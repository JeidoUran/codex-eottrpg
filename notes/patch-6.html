<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Patch 1.5 – Session 8 | Codex - Etrian Odyssey TTRPG</title>
  <link rel="icon" href="../favicon.png" type="image/png">
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <canvas id="particles"></canvas>

  
<nav class="patch-nav">
 <a href="#systeme">Système</a>
  </nav>

  <header class="codex-header" id="top">
    <img src="../assets/images/banniere.png" alt="Bannière" class="banniere">
    <h1><img src="../assets/images/silver-scroll.png" class="image codex-image-header"> Patch 1.5 – Session 8</h1>
    <p class="sous-titre">Publié le 15 Janvier 2025</p>
    <div class="fixed-header-links">
      <a href="index.html" class="carte-lien" style="display: inline-block; max-width: 300px;"><i class="fa-solid fa-arrow-left"></i> Index des patchs</a>
    </div>
  </header>

  <nav class="nav-magique">
    <a href="/">Accueil</a>
    <a href="../notes/">Patch Notes</a>
    <a href="../regles/">Règles</a>
    <a href="../univers/">Univers</a>
    <a href="../musique">Musiques</a>
    <a href="../ressources/">Ressources</a>
    <a href="../credits">Crédits</a>
  </nav>

<main class="accueil">
    
<section class="patch-section" id="systeme">
  <h2 class="patch-titre">
    <img src="../assets/images/notes-big.png" class="image image-h2">
    Système
  </h2>
  <ul class="image-list">
    <li><img src="../assets/images/notes-medium.png" class="image"><div class="image-texte">Le système de jeu prends désormais correctement en compte l'application de plusieurs réactions sur une même entité, comme par exemple la réaction supplémentaire accordée aux Therians.</div></li>
    <li><img src="../assets/images/notes-medium.png" class="image"><div class="image-texte">Ajout de l'affliction "Saigne". Celle-ci est appliquée à toute créature capable de saigner passant sous le seuil de 50% de points de vie.</div></li>
    <li><img src="../assets/images/notes-medium.png" class="image"><div class="image-texte">Divers correctifs et modifications de textes.</div></li>
    <li><img src="../assets/images/notes-medium.png" class="image"><div class="image-texte">Ajout d'un marché hebdomadaire.</div></li>
  </ul></section>
  </main>

  <button id="backToTop" onclick="window.scrollTo({ top: 0, behavior: 'smooth' })" aria-label="Retour en haut"><i class="fa-solid fa-arrow-up"></i> Retour en haut</button>

  <footer>
    <p>© 2025 • Wizardofaz, Rashaza, Jeido, ChatGPT</p>
</footer>

  <script>
  document.addEventListener("DOMContentLoaded", function() {
        const navContainer = document.querySelector('.patch-nav');
        const navLinks = document.querySelectorAll('.patch-nav a[href^="#"]');
        const sections = [...document.querySelectorAll(".patch-section")];
        console.log(sections);
        let lastActive = null;
        const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.getAttribute("id");
            const activeLink = [...navLinks].find(link => link.getAttribute("href") === `#${id}`);
            if (activeLink && activeLink !== lastActive) {
              navLinks.forEach(link => link.classList.remove("active"));
              activeLink.classList.add("active");

              // Scroll l'élément actif dans le menu si partiellement masqué
              const linkTop = activeLink.getBoundingClientRect().top;
              const navTop = navContainer.getBoundingClientRect().top;
              const linkBottom = linkTop + activeLink.offsetHeight;
              const navBottom = navTop + navContainer.offsetHeight;

              if (linkTop < navTop || linkBottom > navBottom) {
                activeLink.scrollIntoView({ behavior: "smooth", block: "center" });
              }

              lastActive = activeLink;
            }
          }
        });
      }, {
        rootMargin: "-20% 0px -30% 0px",
        threshold: 0.1
      });

     
     sections.forEach(section => observer.observe(section));
     });
</script>
  <script src="../scripts/backToTop.js"></script>
  <script src="../scripts/particles.js"></script>
</body>
</html>