<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Historique des Patchs</title>
  <link rel="icon" href="../favicon.png" type="image/png">
  <link rel="stylesheet" href="../style.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
  <style>
    .carte-lien.large {
      display: block;
      width: 100%;
      max-width: 900px;
      margin: 1rem auto;
      position: relative;
    }
    .note-expliquee {
      font-size: 0.9rem;
      color: #aac7b5;
      margin-top: 0.25rem;
      font-style: italic;
      opacity: 0.8;
    }
    .patch-nouveau {
      position: absolute;
      right: 1rem;
      top: 1rem;
      font-size: 1.5rem;
      color: #63b0c4;
      animation: pulse 1.5s infinite ease-in-out;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.2); opacity: 0.7; }
    }
    .btn-lu {
      display: inline-block;
      margin: 2rem auto 1rem;
      padding: 0.5rem 1.2rem;
      font-size: 1rem;
      color: #fff;
      background-color: #3e664e;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: 0 0 8px rgba(99, 176, 196, 0.4);
      transition: background 0.3s;
    }
    .btn-lu:hover {
      background-color: #2f4f3b;
    }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>
  <header class="codex-header">
    <h1>📜 Historique des Patch Notes</h1>
    <p class="sous-titre">Consultez les modifications passées du Codex</p>
  </header>
  <div style="text-align: center; margin-top: 3rem;">
    <a href="/" class="carte-lien" style="display: inline-block; max-width: 300px;">← Retour au Codex</a>
  </div>
  <main class="accueil">
    <div style="text-align: center;">
      <button class="btn-lu" id="tout-lu">✅ Tout marquer comme lu</button>
    </div>
    
  <a href="patch-11.html" class="carte-lien large" data-patch="patch-11.html">
    <h2>📜 Patch 2.4 – Session 13</h2>
    <p>Publié le 28 Février 2025</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-10.html" class="carte-lien large" data-patch="patch-10.html">
    <h2>📜 Patch 2.3 – Session 12</h2>
    <p>Publié le 18 Février 2025</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-9.html" class="carte-lien large" data-patch="patch-9.html">
    <h2>📜 Patch 2.2 – Session 11</h2>
    <p>Publié le 07 Février 2025</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-8.html" class="carte-lien large" data-patch="patch-8.html">
    <h2>📜 Patch 2.2 – Session 10</h2>
    <p>Publié le 29 Janvier 2025</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-7.html" class="carte-lien large" data-patch="patch-7.html">
    <h2>📜 Patch 2.0 – Session 9</h2>
    <p>Publié le 22 Janvier 2025</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-6.html" class="carte-lien large" data-patch="patch-6.html">
    <h2>📜 Patch 1.5 – Session 8</h2>
    <p>Publié le 15 Janvier 2025</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-5.html" class="carte-lien large" data-patch="patch-5.html">
    <h2>📜 Patch 1.4 – Session 7</h2>
    <p>Publié le 10 Décembre 2024</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-4.html" class="carte-lien large" data-patch="patch-4.html">
    <h2>📜 Patch 1.3 – Session 6</h2>
    <p>Publié le 26 Novembre 2024</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-3.html" class="carte-lien large" data-patch="patch-3.html">
    <h2>📜 Patch 1.2 – Session 5</h2>
    <p>Publié le 19 Novembre 2024</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-2.html" class="carte-lien large" data-patch="patch-2.html">
    <h2>📜 Patch 1.1 – Session 4</h2>
    <p>Publié le 12 Novembre 2024</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
  <a href="patch-1.html" class="carte-lien large" data-patch="patch-1.html">
    <h2>📜 Patch 1.0 – Session 3</h2>
    <p>Publié le 15 Octobre 2024</p>
    <span class="patch-nouveau" hidden>❗</span>
  </a>
    <div style="text-align: center; margin-top: 3rem;">
      <a href="/" class="carte-lien" style="display: inline-block; max-width: 300px;">← Retour au Codex</a>
    </div>
  </main>
  <footer>
    <p>© 2025 - Jeido, ChatGPT</p>
  </footer>
  <script src="../particles.js"></script>
  <script>
    const vues = JSON.parse(localStorage.getItem("patchesVus") || "[]");
    document.querySelectorAll(".carte-lien[data-patch]").forEach(carte => {
      const patch = carte.getAttribute("data-patch");
      const badge = carte.querySelector(".patch-nouveau");
      if (!vues.includes(patch)) {
        badge.hidden = false;
      }
      carte.addEventListener("click", () => {
        if (!vues.includes(patch)) {
          vues.push(patch);
          localStorage.setItem("patchesVus", JSON.stringify(vues));
        }
      });
    });

    document.getElementById("tout-lu").addEventListener("click", () => {
      const tous = Array.from(document.querySelectorAll(".carte-lien[data-patch]")).map(c => c.getAttribute("data-patch"));
      localStorage.setItem("patchesVus", JSON.stringify(tous));
      document.querySelectorAll(".patch-nouveau").forEach(badge => badge.hidden = true);
    });
  </script>
</body>
</html>