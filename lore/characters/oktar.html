<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Oktar | Codex - Etrian Odyssey TTRPG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="../../favicon.png" type="image/png">
  <link rel="stylesheet" href="../../style.css">
</head>
<body>
<canvas id="particles"></canvas>

<header class="codex-header">
  <img src="../../assets/images/portraits/oktar.png" class="portrait-header" onclick="openLightbox(this.src)">
  <h1>Oktar</h1>
  <p class="sous-titre">Fléau des tyrans</p>
</header>

<nav class="nav-magique">
  <a href="/">Accueil</a>
  <a href="../../notes/">Patch Notes</a>
  <a href="../../rules/">Règles</a>
  <a href="../../lore/">Univers</a>
  <a href="../../music-player.html">Musiques</a>
  <a href="../../resources/">Ressources</a>
  <a href="../../credits.html">Crédits</a>
</nav>

<main class="patch-list">
  <article class="article-credits">
    <h2><i class="fa-solid fa-shield-halved"></i> Oktar</h2>
    <ul class="image-list">
      <li><img src="../../assets/images/notes-medium.png" class="image">
        <div class="image-texte">
          <strong>Race :</strong> Sentinelle<br>
          <strong>Classe :</strong> Impérial<br>
          <strong>Joueur :</strong> Tailos
        </div>
      </li>      
      <li><img src="../../assets/images/notes-medium.png" class="image">
        <div class="image-texte">
          <strong>Biographie :</strong><br>
          Oktar est un loup-sentinelle marqué par la guerre, l’amitié et la perte. Né dans un orphelinat à Batavia, il se construit à travers les railleries bienveillantes d’un ami félin, compagnon d’armes et frère d’âme. Ensemble, ils forment un duo de mercenaires redoutés, forgés dans les flammes du conflit et la camaraderie profonde. Oktar, guerrier du front aux élans impétueux, tranche le mal à la racine au cœur même des batailles.<br><br>
          Mais lorsqu’il revient victorieux, porteur de la tête d’un baron honni, c’est le cadavre de son frère d’armes qu’il retrouve. Ce choc scelle une fracture. On le retrouve plus tard, errant et brisé à Voarmur, capturé pour un débordement. Jusqu’au moment où, dans la foule, il aperçoit son ami — vivant, ou bien une illusion — pénétrant le Labyrinthe. Dans un cri de désespoir, Oktar s’élance vers son destin.
        </div>
      </li>
    </ul>
  </article>
  <article class="stats">
    <h3>Caractéristiques</h3>
    <ul>
      <li><strong>Force :</strong> <span id="str-score">—</span></li>
      <li><strong>Dextérité :</strong> <span id="dex-score">—</span></li>
      <li><strong>Constitution :</strong> <span id="con-score">—</span></li>
      <li><strong>Intelligence :</strong> <span id="int-score">—</span></li>
      <li><strong>Sagesse :</strong> <span id="wis-score">—</span></li>
      <li><strong>Charisme :</strong> <span id="cha-score">—</span></li>
    </ul>
  </article>
  <p id="last-updated" class="timestamp">Chargement...</p>  
</main>
<div id="lightbox" class="lightbox" onclick="closeLightbox()">
  <img id="lightbox-img" src="" alt="Portrait" />
</div>
<footer>
  <p>© 2025 • Wizardofaz, Rashaza, Jeido, ChatGPT</p>
</footer>
<script>
  fetch("../../data/oktar.json")
    .then((res) => res.json())
    .then((json) => {
      const data = json.data[0];
      const abilities = data.system.abilities;

      document.getElementById("str-score").textContent = abilities.str.value;
      document.getElementById("dex-score").textContent = abilities.dex.value;
      document.getElementById("con-score").textContent = abilities.con.value;
      document.getElementById("int-score").textContent = abilities.int.value;
      document.getElementById("wis-score").textContent = abilities.wis.value;
      document.getElementById("cha-score").textContent = abilities.cha.value;

      // Met à jour la date de dernière mise à jour
      const now = new Date();
      const formatted = now.toLocaleString("fr-FR", {
        dateStyle: "short",
        timeStyle: "short"
      });
      document.getElementById("last-updated").textContent = `Dernière mise à jour : ${formatted}`;
    })
    .catch((error) => {
      console.error("Erreur lors du chargement des données Oktar:", error);
      document.getElementById("last-updated").textContent =
        "Données indisponibles. Chargement du snapshot.";
    });
</script>
<script>
  function openLightbox(src) {
    const lightbox = document.getElementById("lightbox");
    const img = document.getElementById("lightbox-img");
    img.src = src;
    lightbox.style.display = "flex";
  }

  function closeLightbox() {
    document.getElementById("lightbox").style.display = "none";
  }
</script>
<script src="../../particles.js"></script>
</body>
</html>